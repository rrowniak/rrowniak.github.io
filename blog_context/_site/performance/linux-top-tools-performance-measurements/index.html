<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Linux top-tools: performance measurements | Rafal’s blog</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="Linux top-tools: performance measurements" />
<meta name="author" content="Rafał Równiak" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This article presents a short list of very useful tools which are used for getting some information about what’s going on in our Linux system. These tools show some of the system’s resources utilization and saturation. Top-tools share one common property, that is, give a snapshot of certain properties in real time. Also they work in command line mode so there is no need to have a graphics user interface, perfect for servers. Let’s see what we can get and measure." />
<meta property="og:description" content="This article presents a short list of very useful tools which are used for getting some information about what’s going on in our Linux system. These tools show some of the system’s resources utilization and saturation. Top-tools share one common property, that is, give a snapshot of certain properties in real time. Also they work in command line mode so there is no need to have a graphics user interface, perfect for servers. Let’s see what we can get and measure." />
<link rel="canonical" href="http://localhost:4000/_site/performance/linux-top-tools-performance-measurements/" />
<meta property="og:url" content="http://localhost:4000/_site/performance/linux-top-tools-performance-measurements/" />
<meta property="og:site_name" content="Rafal’s blog" />
<meta property="og:image" content="http://localhost:4000/_site/wp-content/uploads/2018/03/chris-liverani-small-unsplash.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-03-28T18:51:52+02:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/_site/wp-content/uploads/2018/03/chris-liverani-small-unsplash.jpg" />
<meta property="twitter:title" content="Linux top-tools: performance measurements" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Rafał Równiak"},"dateModified":"2018-03-28T18:51:52+02:00","datePublished":"2018-03-28T18:51:52+02:00","description":"This article presents a short list of very useful tools which are used for getting some information about what’s going on in our Linux system. These tools show some of the system’s resources utilization and saturation. Top-tools share one common property, that is, give a snapshot of certain properties in real time. Also they work in command line mode so there is no need to have a graphics user interface, perfect for servers. Let’s see what we can get and measure.","headline":"Linux top-tools: performance measurements","image":"http://localhost:4000/_site/wp-content/uploads/2018/03/chris-liverani-small-unsplash.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/_site/performance/linux-top-tools-performance-measurements/"},"url":"http://localhost:4000/_site/performance/linux-top-tools-performance-measurements/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/_site/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/_site/feed.xml" title="Rafal&apos;s blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/_site/">Rafal&#39;s blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/_site/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Linux top-tools: performance measurements</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-03-28T18:51:52+02:00" itemprop="datePublished">Mar 28, 2018
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Rafał Równiak</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>This article presents a short list of very useful tools which are used for getting some information about what’s going on in our Linux system. These tools show some of the system’s resources utilization and saturation. Top-tools share one common property, that is, give a snapshot of certain properties in real time. Also they work in command line mode so there is no need to have a graphics user interface, perfect for servers. Let’s see what we can get and measure.</p>

<h2 id="top">top</h2>

<p>This is the most popular tool and probably it has come with your favorite Linux distribution. It gives some information about running processes like CPU saturation, memory consumption and bunch of other useful statistics. Type <em>top</em> and enter:</p>

<p><code class="language-plaintext highlighter-rouge">$ top</code></p>

<p>The result should be similar to the following print screen:</p>

<p><a href="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/top_prtsc.jpg"><img src="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/top_prtsc.jpg?resize=696%2C302" alt="" /></a></p>

<p>Some tips and tricks:</p>

<ul>
  <li>press <strong>c</strong> to display command line</li>
  <li>press <strong>V</strong> to show relations between running processes</li>
  <li>press <strong>H</strong> to show all threads (only tasks are displayed by default)</li>
</ul>

<p>Read the manual for more tricks.</p>

<h2 id="htop">htop</h2>

<p><em>htop</em> is a kind of alternative to <em>top</em>. It gives you similar information about running processes but in a less spartan way. It’s also a bit more extensive and gives more options. You may need to install that tool. On Ubuntu it’s pretty straightforward:</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo apt install htop</code></p>

<p>And type:</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo htop</code></p>

<p>Notice <em>sudo</em> – it might be needed for getting some additional information from the kernel.</p>

<p>You should see something like that:</p>

<p><a href="https://i0.wp.com/rrowniak.com/wp-content/uploads/2018/03/htop_prtsc.jpg"><img src="https://i0.wp.com/rrowniak.com/wp-content/uploads/2018/03/htop_prtsc.jpg?resize=696%2C413" alt="" /></a></p>

<p>There are a few interesting features:</p>

<ul>
  <li>select a process of interest and press <strong>s</strong> – you will see a list of system calls made by the process</li>
  <li>select a process of interest and press <strong>l</strong> – you will see a list of files opened by the process (equivalent to lsof command)</li>
  <li><strong>M</strong> – sort by memory usage</li>
  <li><strong>P</strong> – sort by CPU usage</li>
  <li><strong>p</strong> – show/hide command line</li>
  <li><strong>F5</strong> – tree view (relations between processes)</li>
  <li><strong>F2</strong> – setup, a lot of useful options. I’d really recommend going there as this is really a user friendly list of beneficial features</li>
</ul>

<h2 id="atop">atop</h2>

<p>Yet another tool for monitoring Linux system and corresponding processes. It gives a little bit more information if we compare it to <em>top</em>. For example, in addition to CPU and memory consumption we can monitor network traffic, io usage and many other things which are important from a performance point of view. You may need to install it, on Ubuntu it’s a piece of cake:</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo apt install atop</code></p>

<p>And run it (notice <em>sudo</em> – it might be needed for getting some additional information from the kernel):</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo atop</code></p>

<p>The output:</p>

<p><a href="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/atop_prtsc.jpg"><img src="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/atop_prtsc.jpg?resize=696%2C413" alt="" /></a></p>

<p>Things to remember:</p>

<ul>
  <li>press <strong>g</strong> to switch to generic view</li>
  <li>press <strong>m</strong> to see detailed statistics related to memory</li>
  <li>press <strong>d</strong> to see disk-related output</li>
  <li>press <strong>n</strong> to get some network related statistics (however, you may need to apply some patches to the kernel)</li>
  <li>press <strong>s</strong> to see a lot of statistics related to process scheduling, may be important when you’re dealing with heavy loaded multi-threading application</li>
</ul>

<p><em>atop</em> has another useful feature, it can store all statistics in a compressed binary files allowing long-run analysis.</p>

<h2 id="iotop">iotop</h2>

<p>A tool for monitoring I/O operations like disk read/write. It might not be installed by default. On Ubuntu just type:</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo apt install iotop</code></p>

<p>And run it (notice <em>sudo</em> – it might be needed for getting some additional information from the kernel):</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo iotop</code></p>

<p>The output:</p>

<p><a href="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/iotop_prtsc.jpg"><img src="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/iotop_prtsc.jpg?resize=696%2C415" alt="" /></a></p>

<p>This is quite simple tool so there is no many useful shortcuts.</p>

<h2 id="powertop">powertop</h2>

<p>This is a power management diagnosis tool. It gives a lot of information about power consumption and allows some experiments with various power management settings. It may not be installed, on Ubuntu:</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo apt install powertop</code></p>

<p>And run it (notice <em>sudo</em> – it might be needed for getting some additional information from the kernel):</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo powertop</code></p>

<p>The output:<br />
<a href="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/powertop_prtsc.jpg"><img src="https://i1.wp.com/rrowniak.com/wp-content/uploads/2018/03/powertop_prtsc.jpg?resize=696%2C415" alt="" /></a><br />
The tool is fully interactive so you have to use menu. There are also some command line options to perform auto-tuning of your current power-related settings. But it hangs my computer so I have nothing interesting to say about that. Nevertheless, you can find many useful statistics like CPU <a href="http://www.hardwaresecrets.com/everything-you-need-to-know-about-the-cpu-c-states-power-saving-modes/">C-states</a> (Idle stats), current CPU frequencies per core, power consumption by each device.</p>

<h2 id="iftop">iftop</h2>

<p>This tool is used for getting networking stats and it’s focused on network traffic analysis and corresponding flow. It may not be installed, on Ubuntu:</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo apt install iftop</code></p>

<p>And run it (notice <em>sudo</em> – it might be needed for getting some additional information from the kernel):</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo iftop</code></p>

<p>The output:</p>

<p><a href="https://i0.wp.com/rrowniak.com/wp-content/uploads/2018/03/iftop_prtsc.jpg"><img src="https://i0.wp.com/rrowniak.com/wp-content/uploads/2018/03/iftop_prtsc.jpg?resize=696%2C478" alt="" /></a></p>

<p>Useful options:</p>

<ul>
  <li>when running <em>iftop</em> you need to specify an interface you’d like to monitor e.g. <em>sudo iftop -i wlp3s0</em></li>
  <li>press <strong>n</strong> to turn on/off DNS resolutions</li>
  <li>press <strong>S</strong> to show source ports</li>
  <li>press <strong>D</strong> to show destination ports</li>
  <li>press <strong>f</strong> to specify filter, some examples: <code class="language-plaintext highlighter-rouge">port https and not host golem.canonical.com </code>, <code class="language-plaintext highlighter-rouge">not port domain</code></li>
</ul>

<h2 id="perf-top">perf top</h2>

<p>This is a really powerful and complex tool. It’s impossible to cover even basic functionalities and provide some guidance in that short post. I’ll just give a high level overview and brief description.</p>

<p><em>perf top</em> is an advanced performance profiling tool which gives the output in realtime. It a member of a family <em>perf</em> tools. By default <em>perf top</em> shows the functions where most of the time is spend on. It monitors the usage on user level and kernel level as well.</p>

<p>Installing perf top on Ubuntu can be a little bit tricky:</p>

<p><code class="language-plaintext highlighter-rouge">sudo apt install linux-tools-common linux-tools-generic linux-tools-</code>uname -r``</p>

<p>Let’s see how it looks:</p>

<p><a href="https://i0.wp.com/rrowniak.com/wp-content/uploads/2018/03/perftop_printscr.jpg"><img src="https://i0.wp.com/rrowniak.com/wp-content/uploads/2018/03/perftop_printscr.jpg?resize=696%2C381" alt="" /></a></p>

<p>This is a good candidate for series of posts so I won’t go further here.</p>

<p>Do you know other top-like tools worth describing? Let us know 🙂</p>

  </div><a class="u-url" href="/_site/performance/linux-top-tools-performance-measurements/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/_site/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Rafal&#39;s blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Rafal&#39;s blog</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/rrowniak"><svg class="svg-icon"><use xlink:href="/_site/assets/minima-social-icons.svg#github"></use></svg> <span class="username">rrowniak</span></a></li><li><a href="https://www.twitter.com/rrowniak"><svg class="svg-icon"><use xlink:href="/_site/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">rrowniak</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Welcome to my IT blog! Here, you will find articles on a wide range of topics related to technology and computer science.  My blog covers everything from software architecture and programming languages like C++ to performance optimization and Linux systems.  Whether you&#39;re a seasoned IT professional or just starting out in the field, I hope you&#39;ll find something of interest on my blog.  Follow me to stay up to date with the latest trends and best practices in the world of technology.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
