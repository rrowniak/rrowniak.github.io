<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Security through obscurity: antywzorzec czy przemysłowy standard? | Rafal’s blog</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="Security through obscurity: antywzorzec czy przemysłowy standard?" />
<meta name="author" content="Rafał Równiak" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Security through obscurity to oczywiście angielskie określenie, które można przetłumaczyć jako bezpieczeństwo przez niejawność. Ale o co chodzi? Czy jest to antywzorzec czy może przemysłowy standard? I co ma z tym wspólnego immobilizer w Twoim aucie? Jeśli chcesz poznać odpowiedzi na te pytania – zapraszam do czytania." />
<meta property="og:description" content="Security through obscurity to oczywiście angielskie określenie, które można przetłumaczyć jako bezpieczeństwo przez niejawność. Ale o co chodzi? Czy jest to antywzorzec czy może przemysłowy standard? I co ma z tym wspólnego immobilizer w Twoim aucie? Jeśli chcesz poznać odpowiedzi na te pytania – zapraszam do czytania." />
<link rel="canonical" href="http://localhost:4000/_site/dobre-praktyki/security-through-obscurity-antywzorzec-czy-przemyslowy-standard/" />
<meta property="og:url" content="http://localhost:4000/_site/dobre-praktyki/security-through-obscurity-antywzorzec-czy-przemyslowy-standard/" />
<meta property="og:site_name" content="Rafal’s blog" />
<meta property="og:image" content="http://localhost:4000/_site/wp-content/uploads/2018/05/alchemist.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-13T17:55:43+02:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/_site/wp-content/uploads/2018/05/alchemist.jpg" />
<meta property="twitter:title" content="Security through obscurity: antywzorzec czy przemysłowy standard?" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Rafał Równiak"},"dateModified":"2018-05-13T17:55:43+02:00","datePublished":"2018-05-13T17:55:43+02:00","description":"Security through obscurity to oczywiście angielskie określenie, które można przetłumaczyć jako bezpieczeństwo przez niejawność. Ale o co chodzi? Czy jest to antywzorzec czy może przemysłowy standard? I co ma z tym wspólnego immobilizer w Twoim aucie? Jeśli chcesz poznać odpowiedzi na te pytania – zapraszam do czytania.","headline":"Security through obscurity: antywzorzec czy przemysłowy standard?","image":"http://localhost:4000/_site/wp-content/uploads/2018/05/alchemist.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/_site/dobre-praktyki/security-through-obscurity-antywzorzec-czy-przemyslowy-standard/"},"url":"http://localhost:4000/_site/dobre-praktyki/security-through-obscurity-antywzorzec-czy-przemyslowy-standard/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/_site/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/_site/feed.xml" title="Rafal&apos;s blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/_site/">Rafal&#39;s blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/_site/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Security through obscurity: antywzorzec czy przemysłowy standard?</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-05-13T17:55:43+02:00" itemprop="datePublished">May 13, 2018
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Rafał Równiak</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://en.wikipedia.org/wiki/Security_through_obscurity">Security through obscurity</a> to oczywiście angielskie określenie, które można przetłumaczyć jako <a href="https://pl.wikipedia.org/wiki/Security_through_obscurity">bezpieczeństwo przez niejawność</a>. Ale o co chodzi? Czy jest to antywzorzec czy może przemysłowy standard? I co ma z tym wspólnego immobilizer w Twoim aucie? Jeśli chcesz poznać odpowiedzi na te pytania – zapraszam do czytania.</p>

<h2 id="bezpieczeństwo-przez-niejawność">Bezpieczeństwo przez niejawność</h2>

<p>Bezpieczeństwo przez niejawność (ang. <em>security through obscurity</em>) to zestaw praktyk polegających na ukrywaniu algorytmów, protokołów i formatów służących do szyfrowania i wymiany danych. Główną motywacją jest prosta zasada: nie znasz algorytmu użytego do szyfrowania danych zatem nie odszyfrujesz ich. Brzmi sensownie.</p>

<p>Zanim przejdziemy do szczegółów pozwolę sobie na mały przykład. Wyobraź sobie, że żyjesz w czasach gdzie skrzaty, mamuny i leśne nimfy nie zostały jeszcze wyparte przez prawa hydrauliki, prawa dynamiki społecznej, prawa tego i owego. W czasach gdy jedynym sposobem na komunikację zdalną jest napisanie listu i podanie go gońcowi. Jednak jako szanujący się alchemik nie chciałbyś aby ktoś trzeci poznał korespondencję jaką prowadzisz z kolegą po fachu. Czyli list trzeba jakoś zaszyfrować. Pierwszym pomysłem jaki może przyjść Ci do głowy jest skonstruowanie specjalnego algorytmu, który każdej literze alfabetu przyporządkuje inną np. f(<em>A) = J</em>, f(<em>B)</em> = <em>A</em>, itp. Kiedy algorytm będzie gotowy musisz spotkać się z przyjacielem i objaśnić mu wszystkie szczegóły. Potem możesz rozpocząć szyfrowaną korespondencję. Jak widać podstawowym założeniem jest tajność algorytmu, czyli mamy klasyczny przykład bezpieczeństwa przez niejawność.</p>

<p>Niestety taka metoda ma kilka wad. Wyobraź sobie, że masz kilku znajomych alchemików, z którymi chcesz prowadzić szyfrowaną korespondencję i chciałbyś aby koledzy nie mogli sobie nawzajem rozszyfrowywać wiadomości. Trzeba zatem dla każdego z osobna wymyślić nowy algorytm lub mocno zmodyfikować obecny. Sprawa co najmniej mocno uciążliwa, ale to nie koniec problemów. Algorytm jest tajny więc nie możesz go przedstawić szerszej grupie specjalistów, aby spojrzeli na niego krytycznym okiem. I w naszym przypadku jest to kardynalny błąd ponieważ metoda jaką zastosowaliśmy jest bardzo łatwa do złamania. Pewnie pomyślisz „przecież to był naiwny algorytm, ja zrobię taki nie do złamania”. No cóż, wielu tak myślało i chyba domyślasz się jak to się skończyło…</p>

<p>W takim razie jak można zrobić to inaczej? Z pomocą przyjdzie szyfrowanie z użyciem klucza. Algorytm będzie jawny i ogólnie dostępny. Tylko klucz będzie utajniony. Klucz czyli albo duża liczna (najlepiej losowa) albo jakiś fragment tekstu, coś na podobieństwo hasła. Teraz wygenerujesz różne klucze dla swoich znajomych, a algorytm zostanie bez zmian. Co więcej, możesz uzgodnić ze znajomym jaki algorytm będzie najodpowiedniejszy. Ponieważ niektóre metody mogą być bardzo złożone, Twój znajomy może preferować te o mniejszej złożoności. Podobnie działają współczesne protokoły i tą część odpowiedzialną za dogadywanie się nazywamy <a href="https://pl.wikipedia.org/wiki/Handshake">handshake</a>.</p>

<p>Mam nadzieję, że przekonałem Cię, że tworzenie własnego algorytmu kryptograficznego, który ma być częścią <em>bezpieczeństwa przez niejawność</em> to bardzo zły pomysł. Ogólna zasada w inżynierii oprogramowania mówi: „<em>nigdy, przenigdy nie twórz własnego algorytmu kryptograficznego, który miałby być użyty w poważnych zastosowaniach</em>„. Dlaczego? Odpowiedź jest prosta: bo istnieją lepsze metody, których solidność została udowodniona w praktyce i ich implementacje przeszły niezliczone próby bojowe.</p>

<h2 id="przemysł">Przemysł</h2>

<p>Tytuł sugeruje jakoby przemysł chętnie uciekał się do bezpieczeństwa przez niejawność. I taka niestety jest rzeczywistość. Przykładów takich pomysłów znajdziesz wiele z opisem wyjaśniającym co poszło nie tak, czyli dlaczego nie warto iść tą ścieżką. Błąd ten jest często popełniany na wyższych szczeblach, gdzie decydenci intuicyjnie zakładają, że tajny algorytm stworzony w naszej firmie, gdzie przecież pracują najlepsi inżynierowie na świecie, to w oczywisty sposób bezpieczne rozwiązanie. Jawność algorytmów kryptograficznych jest podejrzana. Bo jak coś może być bezpieczne skoro każdy ma do tego wgląd? Byłem uczestnikiem wielu takich dyskusji, więc niestety wiem jak trudno jest przekonać kogoś do użycia klasycznych i znanych algorytmów.</p>

<p>Tutaj należy wspomnieć o jednej bardzo ważnej rzeczy. To że używamy jawnego i znanego protokołu nie oznacza, że musimy się dzielić z całym światem tym jaki algorytm wybraliśmy do realizacji danego zadania. Ale to i tak będzie w najlepszym razie tylko lekkim utrudnieniem dla hackera.</p>

<p>Żeby nie być gołosłownym posłużę się przykładem, który pokazuje skalę problemu.</p>

<h2 id="immobilizer">Immobilizer</h2>

<p>Tego skrótu chyba nie muszę nikomu tłumaczyć, hhociaż zasada działania może być już słabiej znana. W uproszczeniu: w kluczyk wbudowany jest mały układ elektroniczny sparowany z elektroniką pojazdu. W momencie włożenia kluczyka do stacyjki elektronika pojazdu (np. <a href="https://pl.wikipedia.org/wiki/Sterownik_silnika">ECU</a>) sprawdza czy kluczyk jest „sparowany”. Jeśli tak to jedziemy, jeśli nie to silnik nie odpali, czyli kradzież auta jest niemożliwa. W teorii, ale po kolei.</p>

<p>Przemysł motoryzacyjny znany jest z dość konserwatywnego podejścia do nowych technologii. I pewnie jest w tym szaleństwie jakaś metoda, jednak razem z konserwatyzmem idzie w parze podejście „<em>wszystko robimy sami, nasi inżynierowie umieją projektować auta to i poradzą sobie z IT</em>” (od jakiegoś czasu można zaobserwować pozytywne zmiany w tej materii – nareszcie!). Oczywiście nie ominęło to immobilizerów, które padły ofiarą choroby zwanej <em>bezpieczeństwem przez niejawność</em> (więcej możesz znaleźć <a href="http://ww1.microchip.com/downloads/en/DeviceDoc/article_open_immob_system.pdf">tutaj</a>). I jakie były rezultaty?</p>

<p>Za pewne słyszałeś o historiach w których mówi się, że złodziej potrzebuje kilku sekund na odpalenie auta, może oglądałeś filmiki jak ktoś z laptopem na kolanach odpala furę wartą kilkaset tysięcy złoty, a może byłeś ofiarą takiej kradzieży. Wielkim paradoksem jest to, że często immobilizery są dużym utrapieniem użytkowników ,bo procedura przekodowania i spasowania jest najczęściej koszmarem (drogim koszmarem).</p>

<p>Przykładem może być standard <a href="https://en.wikipedia.org/wiki/Crypto-1">HITAG2</a>. Algorytm jest tajny, ale został odtworzony i okazało się, że jest stosunkowo łatwy do złamania. <a href="https://www.usenix.org/system/files/conference/usenixsecurity12/sec12-final95.pdf">Tutaj</a> możesz poczytać o szczegółach.</p>

<p>Jak to możliwe? Czy dzisiejsza technologia IT nie oferuje nic pewniejszego? Oczywiście, że oferuje. Są sposoby „parowania” praktycznie nie do złamania. Część producentów już z nich korzysta. Przykładem takiego algorytmu jest <a href="https://pl.wikipedia.org/wiki/Advanced_Encryption_Standard">AES-128</a>. Oczywiście to tylko jeden fragment większej układanki i problematyka jest o wiele bardziej złożona. Należy również pamiętać, że ukryty algorytm wcześniej czy później zostanie złamany (patrz HITAG2) albo wycieknie. Nie tędy droga.</p>

<p>Jeden antywzorzec a tyle problemów. Mam nadzieję, że już wiesz czym pachnie <em>security through obscurity</em>…</p>

  </div><a class="u-url" href="/_site/dobre-praktyki/security-through-obscurity-antywzorzec-czy-przemyslowy-standard/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/_site/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Rafal&#39;s blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Rafal&#39;s blog</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/rrowniak"><svg class="svg-icon"><use xlink:href="/_site/assets/minima-social-icons.svg#github"></use></svg> <span class="username">rrowniak</span></a></li><li><a href="https://www.twitter.com/rrowniak"><svg class="svg-icon"><use xlink:href="/_site/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">rrowniak</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Welcome to my IT blog! Here, you will find articles on a wide range of topics related to technology and computer science.  My blog covers everything from software architecture and programming languages like C++ to performance optimization and Linux systems.  Whether you&#39;re a seasoned IT professional or just starting out in the field, I hope you&#39;ll find something of interest on my blog.  Follow me to stay up to date with the latest trends and best practices in the world of technology.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
